<section class="contact">
  <div class="contact-content">
    <h2>اتصل بنا</h2>
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
      <div class="form-group">
        <label for="name">الاسم</label>
        <input 
          type="text" 
          id="name" 
          formControlName="name"
          [class.error]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched"
        >
        <div class="error-message" *ngIf="contactForm.get('name')?.invalid && contactForm.get('name')?.touched">
          {{ getErrorMessage('name') }}
        </div>
      </div>
      <div class="form-group">
        <label for="email">البريد الإلكتروني</label>
        <input 
          type="email" 
          id="email" 
          formControlName="email"
          [class.error]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched"
        >
        <div class="error-message" *ngIf="contactForm.get('email')?.invalid && contactForm.get('email')?.touched">
          {{ getErrorMessage('email') }}
        </div>
      </div>
      <div class="form-group">
        <label for="message">الرسالة</label>
        <textarea 
          id="message" 
          formControlName="message"
          rows="5"
          [class.error]="contactForm.get('message')?.invalid && contactForm.get('message')?.touched"
        ></textarea>
        <div class="error-message" *ngIf="contactForm.get('message')?.invalid && contactForm.get('message')?.touched">
          {{ getErrorMessage('message') }}
        </div>
      </div>
      <button 
        type="submit" 
        class="submit-button"
        [disabled]="contactForm.invalid || isSubmitting"
      >
        <span *ngIf="!isSubmitting">إرسال</span>
        <span *ngIf="isSubmitting" class="loading-spinner"></span>
      </button>
      
      <div class="submit-status" *ngIf="submitStatus !== 'idle'">
        <div class="status-message" [class.success]="submitStatus === 'success'">
          {{ submitMessage }}
        </div>
      </div>
    </form>
  </div>
  <div class="contact-image">
    <img [src]="contactImage" alt="صورة تواصل">
  </div>
</section> 